---
title: "A worked example"
author: "Andrew L Jackson"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{A worked example}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteDepends{lamW}
  %\VignetteDepends{tidyverse}
  %\VignetteDepends{patchwork}
  \usepackage[utf8]{inputenc}
---


## Setup

```{r}
library(predictFishRMR)

# for plotting and tibble manipulation
library(tidyverse)


```

## Introduction

Here we use the functions in the pacakge `predictFishRMR` to predict various features of a fishe's metabolism and ecological constraints based on their mass and physiology type. 

For this example we pick a fish with mass = 3000g.

```{r}

# mass of fish
mm <- 3000

# water temperature in C
Ta <- 13

# mesotherm (meso = T) or ecotherm (meso = F)?
mesotherm <- TRUE

# Estimate the cooling coefficient K
K <- kfun(m = mm)

# Estimate the body temperature at thermal equilibrium

Tm <- bodyTempLambert(Ta, m = mm, k = K, meso = mesotherm)

# Estimate routine metabolic rate RMR over the range of 
# AJ - NEED TO HAVE pars OBJECT FROM VIGNETTE "fit-RMR-regression.Rmd" 
# PRE-SAVED SO IT CAN BE PASSED IN HERE. e.g.
# posterior::summarize_draws(as_draws(fittedModelRMR))
# RMR <- RMRfun(mm, Tm, mesotherm, pars)



```




